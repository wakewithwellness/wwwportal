<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Registration</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <link href="../assets/img/favicon.png" rel="icon" />
    <link href="../assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="./MembersPanel/assets/css/style.css"
    />
  </head>

  <body>
    <!--oncontextmenu="return false"-->

    <div class="header">
      <div class="header-left">
        <a
          class="logo"
          style="float: left; text-decoration: none; margin-top: 5px"
        >
          <img src="../assets/img/favicon.png" width="35" height="35" alt="" />
          <span>WakeWithWellness</span>
        </a>
      </div>
    </div>

    <br /><br />

    <div class="container" style="margin-top: 7vh; text-align: center">
      <h3 style="color: #ff9900; font-weight: bold; font-size: 19px">
        Membership Form 2023-24
      </h3>
    </div>

    <div class="container my-2" style="max-width: 100vh">
      <hr />
   
      <br />
      <form id="myForm">
        <div class="form-group">
          <label for="exampleInputEmail1"
            >Name<span style="color: red">*</span></label
          >
          <input
            type="text"
            class="form-control"
            id="name"
            required
            name="name"
            placeholder="Enter name"
          />
        </div>

        <div class="form-group">
          <label for="exampleInputEmail1"
            >Email<span style="color: red">*</span></label
          >
          <input
            type="email"
            required
            class="form-control"
            id="email"
            name="email"
            placeholder="Enter email"
          />
          <small class="form-text text-muted"
            >We'll never share your email with anyone else.</small
          >
        </div>

        <div class="row">
          <div class="col-lg-8">
            <div class="form-group">
              <label for="exampleInputEmail1"
                >Contact no.<span style="color: red">*</span></label
              >
              <input
                type="tel"
                required
                class="form-control"
                id="contact"
                name="contact"
                placeholder="Enter contact"
              />
            </div>
          </div>
          <div class="col-lg-4">
            <div class="form-group">
              <label for="exampleInputEmail1"
                >Blood group<span style="color: red">*</span></label
              >
              <input
                type="text"
                class="form-control"
                id="blood"
                required
                name="blood"
                placeholder="Enter blood group"
              />
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="exampleInputEmail1"
            >Do you want to change your department? If Yes, select the preferred
            department (Optional)</label
          >
          <select class="form-control" id="dept" required name="dept">
            <option value=" ">--Select department--</option>
            <option value="Curation">Curation Department</option>
            <option value="Editorial">Editorial Department</option>
            <option value="PR">PR Department</option>
            <option value="Events">Events Department</option>
            <option value="Design">Design Department</option>
            <option value="Marketing">Marketing Department</option>
          </select>
        </div>

        <div class="form-group">
          <label for="exampleInputEmail1"
            >Address<span style="color: red">*</span></label
          >
          <textarea
            class="form-control"
            id="address"
            required
            name="address"
            placeholder="Enter address"
          ></textarea>
        </div>

        <div class="text-center">
          <p style="color: red" id="status"></p>
          <button class="btn btn-success" type="submit">Submit</button>
        </div>
      </form>

      <br />
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.9/firebase-database.js"></script>

    <script>
      var firebaseConfig = {
        apiKey: "AIzaSyDoiXHxMG_vZPHz0eeJj5s661xhfU-Y4_4",
        authDomain: "members-76725.firebaseapp.com",
        projectId: "members-76725",
        storageBucket: "members-76725.appspot.com",
        messagingSenderId: "734645197873",
        appId: "1:734645197873:web:808127fdb4d643d4d24910",
        measurementId: "G-7LYZ3R48GT",
      };
      firebase.initializeApp(firebaseConfig);
      // Get a reference to the Firebase database
      const database = firebase.database();

      // Get a reference to the user data collection
      const usersRef = database.ref("membershipform23");

      // Get a reference to the form element
      const form = document.getElementById("myForm");

      // Add a submit event listener to the form
      form.addEventListener("submit", (event) => {
        // Prevent the form from submitting normally
        event.preventDefault();

        // Get the values from the form inputs
        const name = form.name.value;
        const email = form.email.value;
        const contact = form.contact.value;
        const bloodType = form["blood"].value;
        const address = form.address.value;
        const dept = form.dept.value;

        // Create a new user object
        const user = {
          name: name,
          email: email,
          contact: contact,
          bloodType: bloodType,
          address: address,
          dept: dept,
        };

        // Push the user object to Firebase
        usersRef.push(user);
        alert("Form submitted Successfully!");
        // Clear the form inputs
        form.reset();
      });
    </script>
  </body>
</html>
